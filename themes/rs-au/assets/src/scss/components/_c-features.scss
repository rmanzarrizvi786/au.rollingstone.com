// Features
//
// markup:
// <div class="c-features">
// 	<article class="c-features__main">
// 		<a href="#" class="c-features__main-wrap">
// 			<figure class="c-features__main-image">
// 				<div class="c-crop c-crop--landscape c-crop--size-features-main">
// 					<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
// 						data-src="https://placehold.it/510x330"
// 						data-srcset="https://placehold.it/510x330 510w, https://placehold.it/780x515 780w, https://placehold.it/480x315 480w"
// 						sizes="(max-width: 480px) 480px, (max-width: 820px) 780px, 510px"
// 						alt="Inside the Weird and Wild Crusade for Clean Pot"
// 						class="c-crop__img">
// 				</div>
// 			</figure>
// 			<span class="c-features__tag t-bold t-bold--upper">Featured Stories</span>
// 			<header class="c-features__main-header">
// 				<h3 class="c-features__main-headline t-bold">
// 				Inside the Weird and Wild Crusade for Clean Pot
// 				</h3>
// 				<p class="c-features__main-lead t-copy">
// 					Can a corporate exec and a drug dealer make it safer?
// 				</p>
// 			</header>
// 		</a>
// 	</article>
// 	<div class="c-features__slider c-slider" data-slider>
// 		<a href="" class="c-slider__nav c-slider__nav--left" data-slider-nav="prev">
// 			<svg class="c-slider__icon"><use xlink:href="#svg-icon-chevron"></use></svg>
// 		</a>
// 		<a href="" class="c-slider__nav c-slider__nav--right" data-slider-nav="next">
// 			<svg class="c-slider__icon"><use xlink:href="#svg-icon-chevron"></use></svg>
// 		</a>
// 		<div class="c-slider__track" data-slider-track>
// 			<article class="c-features__item c-slider__item" data-slider-item>
// 				<a href="#" class="c-features__item-wrap">
// 					<figure class="c-features__item-image">
// 						<div class="c-crop c-crop--portrait c-crop--size-features">
// 							<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
// 								data-src="https://placehold.it/220x280"
// 								alt="Inside the Weird and Wild Crusade for Clean Pot"
// 								class="c-crop__img">
// 						</div>
// 					</figure>
// 					<header class="c-features__item-header">
// 						<h3 class="c-features__item-headline t-semibold">
// 						Inside the Weird and Wild Crusade for Clean Pot
// 						</h3>
// 					</header>
// 				</a>
// 			</article>
// 			<article class="c-features__item c-slider__item" data-slider-item>
// 				<a href="#" class="c-features__item-wrap">
// 					<figure class="c-features__item-image">
// 						<div class="c-crop c-crop--portrait c-crop--size-features">
// 							<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
// 								data-src="https://placehold.it/220x280"
// 								alt="Inside the Weird and Wild Crusade for Clean Pot"
// 								class="c-crop__img">
// 						</div>
// 					</figure>
// 					<header class="c-features__item-header">
// 						<h3 class="c-features__item-headline t-semibold">
// 						Inside the Weird and Wild Crusade for Clean Pot
// 						</h3>
// 					</header>
// 				</a>
// 			</article>
// 			<article class="c-features__item c-slider__item" data-slider-item>
// 				<a href="#" class="c-features__item-wrap">
// 					<figure class="c-features__item-image">
// 						<div class="c-crop c-crop--portrait c-crop--size-features">
// 							<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
// 								data-src="https://placehold.it/220x280"
// 								alt="Inside the Weird and Wild Crusade for Clean Pot"
// 								class="c-crop__img">
// 						</div>
// 					</figure>
// 					<header class="c-features__item-header">
// 						<h3 class="c-features__item-headline t-semibold">
// 						Inside the Weird and Wild Crusade for Clean Pot
// 						</h3>
// 					</header>
// 				</a>
// 			</article>
// 			<article class="c-features__item c-slider__item" data-slider-item>
// 				<a href="#" class="c-features__item-wrap">
// 					<figure class="c-features__item-image">
// 						<div class="c-crop c-crop--portrait c-crop--size-features">
// 							<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
// 								data-src="https://placehold.it/220x280"
// 								alt="Inside the Weird and Wild Crusade for Clean Pot"
// 								class="c-crop__img">
// 						</div>
// 					</figure>
// 					<header class="c-features__item-header">
// 						<h3 class="c-features__item-headline t-semibold">
// 						Inside the Weird and Wild Crusade for Clean Pot
// 						</h3>
// 					</header>
// 				</a>
// 			</article>
// 		</div>
// 	</div>
// </div>
//
// Styleguide 3.23

@include critical( home, featured-article ) {

	.c-features {
		@extend %flex-center;
		width: 100%;
		background-image: linear-gradient($g-color-bg--light, $g-color-bg--light);

		@media ( query( max, tablet-xl ) ) {
			width: calc( 100% + 40px );
			margin-left: -20px;
			flex-wrap: wrap;
			padding-top: 2em;
			padding-bottom: 1em;
		}

		@media ( query( min, tablet-xl ) ) {
			background-position-x: 210px;
			background-repeat: no-repeat;
		}

		@media ( query( min, tablet ) ) and ( query( max, desktop-xl ) ) {
			&::after {
				content: '';
				position: absolute;
				top: 0;
				right: 0;
				z-index: z( hill );
				height: 100%;
				width: 90px;
				background-image: linear-gradient(90deg, rgba($g-color-bg--light,0) 0%, $g-color-bg--light 100%);
				pointer-events: none;
			}
		}

		&__main {
			position: relative;
			z-index: z( hill );

			@media ( query( min, tablet-xl ) ) {
				margin-right: 5px;
			}
		}

		&__main-wrap {
			position: relative;
			z-index: 0;
			display: block;
			color: $g-color-white;

		}

		&__main-image {
			position: relative;
			z-index: 0;
			display: block;
			width: calc( 100vw - 2em) ;
			max-height: 293px;
			margin-bottom: 1em;

			.c-crop::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				z-index: z('default');
				width: 100%;
				height: 100%;
				background-image: $g-gradient-card;
			}

			@media ( query( min, tablet-xl ) ) {
				margin-top: 1em;
				max-width: 500px;
			}

			.c-crop--size-features-main {
				max-height: 18em;
			}

		}

		&__tag {
			position: absolute;
			top: 0;
			z-index: z( hill );
			padding: 5px 10px;
			transform: translateY( calc(-2em - 50%) );
			font-size: 16px;
			letter-spacing: 0.55px;
			background-color: $g-color-red;

			@media ( query( min, tablet-xl ) ) {
				transform: translateY( -1em ) translateX( 1em );
			}
		}

		&__main-header {
			position: absolute;
			bottom: 0;
			left: 0;
			z-index: z( everest );
			width: 100%;
			padding: 10px 20px;
			transition: transform 0.3s $ease-out;

			@media ( query( min, tablet-xl ) ) {
				padding: 30px;
			}
		}

		&__main-headline {
			font-size: 25px;
			letter-spacing: -0.5px;
			line-height: 30px;
		}

		&__main-lead {
			@include g-font-family-sans;
			font-size: 16px;
			line-height: 19px;
			padding-bottom: 3px;
		}

		&__slider {
			position: relative;
			padding: 15px 0;
			margin-left: 15px;

			@media ( query( min, tablet-xl )) {
				width: 100%;
			}
		}

		&__item {
			width: 248px;
			padding-right: 1em;

			@media ( query( max, tablet-xl ) ) {
				&:first-child {
					margin-left: 0;
				}
			}
		}

		&__item-wrap {
			position: relative;
			display: block;
			color: $g-color-white;
			overflow: hidden;

			&::before {
				content: '';
				position: absolute;
				top: 50%;
				z-index: z( hill );
				height: 100%;
				width: 100%;
				background-image: linear-gradient( -180deg, rgba(15,22,30,0.00) 0%, #0F161E 100% );
				transition: transform 0.3s $ease-out;
			}

			&:hover,
			&:focus {
				&::before {
					transform: translateY( -30% );
				}
			}
		}

		&__item-header {
			position: absolute;
			bottom: 0;
			z-index: z( hill );
			width: 100%;
			padding: 20px 30px;
		}

		&__item-headline {
			font-size: 17.47px;
			text-align: center;
			line-height: 21px;
			transition: transform 0.3s $ease-out;
			font-weight: $bold;
		}

		// Hide slider nav after largest breakpoint
		.c-slider__nav {
			@media ( query( min, desktop-xl ) ) {
				display: none;
			}
		}
	}

}
